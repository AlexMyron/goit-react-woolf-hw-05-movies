{"version":3,"file":"static/js/190.54d35f40.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieSearch/MovisSearch.module.css?4476","components/MovieSearch/index.jsx","webpack://react-homework-template/./src/components/MoviesSearchSection/MoviesSearchSection.module.css?41a9","components/MoviesSearchSection/index.jsx","pages/Movies.jsx","services/api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"MovisSearch_form__GY-De\",\"input\":\"MovisSearch_input__UYqy0\",\"button\":\"MovisSearch_button__Wv4fS\"};","import { useState } from 'react';\n\nimport css from './MovisSearch.module.css'\n\nconst MovieSearch = ({ onSearch }) => {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!query) return;\n    onSearch(query);\n    setQuery('');\n  };\n\n  return (\n    <section>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          placeholder=\"Search movies by name...\"\n          value={query}\n          onChange={e => setQuery(e.target.value)}\n        />\n        <button className={css.button} type=\"submit\">Search</button>\n      </form>\n    </section>\n  );\n};\n\nexport default MovieSearch;\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MoviesSearchSection_link__xpVDH\",\"wrapper\":\"MoviesSearchSection_wrapper__rMan4\"};","import { useCallback, useEffect, useState } from 'react';\n\nimport MovieSearch from '../MovieSearch';\nimport css from './MoviesSearchSection.module.css';\n\nimport { getMoviesByName } from '../../services/api';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst MoviesSearchSection = () => {\n  const [movies, setMovies] = useState(null);\n  const [query, setQuery] = useState('');\n  const location = useLocation();\n  const setSearchParams = useSearchParams()[1];\n\n  const getMovies = useCallback(\n    async query => {\n      setQuery(query);\n      setSearchParams({ query: query });\n      try {\n        const movies = await getMoviesByName(query);\n        setMovies(movies.results);\n      } catch (err) {\n        console.error('Failed to fetch movies:', err);\n      }\n    },\n    [setSearchParams]\n  );\n  const handleSearch = query => {\n    getMovies(query);\n  };\n\n  useEffect(() => {\n    location.state?.pageQuery && getMovies(location.state.pageQuery);\n  }, [location, getMovies]);\n\n  let searchResult;\n\n  if (!movies) searchResult = '';\n  else if (movies.length)\n    searchResult = movies.map(({ title, id }) => (\n      <Link\n        className={css.link}\n        to={`/movies/${id}`}\n        state={{ query, from: '/movies' }}\n        key={id}\n      >\n        - {title}\n      </Link>\n    ));\n  else searchResult = <p>There are no movies found...</p>;\n\n  return (\n    <div className={css.wrapper}>\n      <MovieSearch onSearch={handleSearch} />\n      <div>{searchResult}</div>\n    </div>\n  );\n};\n\nexport default MoviesSearchSection;\n","import MoviesSearchSection from 'components/MoviesSearchSection';\n\nconst Movies = () => {\n  return <MoviesSearchSection />;\n};\n\nexport default Movies;\n","const HEADERS = {\n  accept: 'application/json',\n  Authorization:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyYzhmMjBmNzFmOTIxOGJkMjhiZjViMjNkZDEyMmI4MSIsInN1YiI6IjYxMDZmMTlmY2FlNjMyMDAyZjcwMzU1MiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.u4I428l0-ivjW2aoqxoT2hDtIKn6ZAq7SONhHeVIUF0',\n};\n\nconst options = {\n  method: 'GET',\n  headers: HEADERS,\n};\n\nexport const getTrendList = async page => {\n  const res = await fetch(\n    'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    options\n  );\n  if (!res.ok)\n    throw new Error(\n      `There is an issue with trend movies response with a status ${res.status}. Please, Try again later`\n    );\n\n  return await res.json();\n};\n\nexport const getMovieById = async movieId => {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n  if (!res.ok)\n    throw new Error(\n      `Failed to load movies. Please try again later. Status code ${res.status}.`\n    );\n\n  return await res.json();\n};\n\nexport const getMoviesByName = async query => {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  if (!res.ok)\n    throw new Error(\n      `Failed to load movies. Please try again later. Status code ${res.status}.`\n    );\n\n  return await res.json();\n};\n\nexport const getMovieCast = async movieId => {\n  const res = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  if (!res.ok)\n    throw new Error(\n      `Failed to load cast data. Please try again later. Status code ${res.status}.`\n    );\n\n  return await res.json();\n};\n\nexport const getMovieReviews = async movieId => {\n  const res = await fetch(`https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`, options);\n\n  if (!res.ok)\n    throw new Error(\n      `Failed to fetch reviews. Please, try again later. Status code ${res.status}.`\n    );\n\n  return await res.json();\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["_ref","onSearch","_useState","useState","_useState2","_slicedToArray","query","setQuery","_jsx","children","_jsxs","className","css","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","searchResult","movies","setMovies","_useState3","_useState4","location","useLocation","setSearchParams","useSearchParams","getMovies","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","_movies","_context","prev","next","getMoviesByName","sent","results","t0","console","error","stop","_x","apply","arguments","useEffect","_location$state","state","pageQuery","length","map","_ref2","title","id","Link","to","concat","from","MovieSearch","MoviesSearchSection","options","method","headers","accept","Authorization","getTrendList","page","res","fetch","ok","Error","status","json","abrupt","getMovieById","_callee2","movieId","_context2","_x2","_ref3","_callee3","_context3","_x3","getMovieCast","_ref4","_callee4","_context4","_x4","getMovieReviews","_ref5","_callee5","_context5","_x5","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","fn","self","this","args","err","undefined"],"sourceRoot":""}